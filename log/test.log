  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20190109152101)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" decimal, "inventory_count" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190109152101"]]
  [1m[35m (11.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCartItems (20190109152218)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "title" varchar, "price" decimal, "inventory_count" integer, "p_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_cart_items_on_user_id" ON "cart_items" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190109152218"]]
  [1m[35m (16.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20190110071901)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190110071901"]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePurchasedItems (20190110085443)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "purchased_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "title" varchar, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_purchased_items_on_user_id" ON "purchased_items" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190110085443"]]
  [1m[35m (33.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-01-11 10:16:09.427482"], ["updated_at", "2019-01-11 10:16:09.427482"]]
  [1m[35m (19.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:16:16.796989', '2019-01-11 10:16:16.796989', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:16:16.796989', '2019-01-11 10:16:16.796989', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:16:16.802229', '2019-01-11 10:16:16.802229', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:16:16.802229', '2019-01-11 10:16:16.802229', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:16:16.803258', '2019-01-11 10:16:16.803258', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:16:16.803258', '2019-01-11 10:16:16.803258', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:16:16.803258', '2019-01-11 10:16:16.803258', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:16:16.803258', '2019-01-11 10:16:16.803258', 298486374)[0m
  [1m[35m (14.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:16:18 -0500
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:16:18 -0500
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:16:18 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 17ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
ProductsControllerTest: test_should_show_available_product
----------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/available" for 127.0.0.1 at 2019-01-11 05:16:18 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.8ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:21:59.367207', '2019-01-11 10:21:59.367207', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:21:59.367207', '2019-01-11 10:21:59.367207', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:21:59.371707', '2019-01-11 10:21:59.371707', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:21:59.371707', '2019-01-11 10:21:59.371707', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:21:59.374574', '2019-01-11 10:21:59.374574', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:21:59.374574', '2019-01-11 10:21:59.374574', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:21:59.376569', '2019-01-11 10:21:59.376569', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:21:59.376569', '2019-01-11 10:21:59.376569', 298486374)[0m
  [1m[35m (25.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:21:59 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-11 10:21:59.660114"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:21:59 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (0.9ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (10.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:21:59 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/available" for 127.0.0.1 at 2019-01-11 05:21:59 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:21:59 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:21:59 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"980190962"}
Unpermitted parameter: :user_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-11 10:21:59.744293"], ["updated_at", "2019-01-11 10:21:59.744293"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (9.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.3ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:10.949368', '2019-01-11 10:24:10.949368', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:10.949368', '2019-01-11 10:24:10.949368', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:10.953606', '2019-01-11 10:24:10.953606', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:10.953606', '2019-01-11 10:24:10.953606', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:10.954690', '2019-01-11 10:24:10.954690', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:10.954690', '2019-01-11 10:24:10.954690', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:10.955724', '2019-01-11 10:24:10.955724', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:10.955724', '2019-01-11 10:24:10.955724', 298486374)[0m
  [1m[35m (30.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:24:11 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 9ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (5.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:29.921518', '2019-01-11 10:24:29.921518', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:29.921518', '2019-01-11 10:24:29.921518', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:29.927379', '2019-01-11 10:24:29.927379', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:29.927379', '2019-01-11 10:24:29.927379', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:29.929411', '2019-01-11 10:24:29.929411', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:29.929411', '2019-01-11 10:24:29.929411', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:29.931406', '2019-01-11 10:24:29.931406', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:29.931406', '2019-01-11 10:24:29.931406', 298486374)[0m
  [1m[35m (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:24:30 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"980190962"}
Unpermitted parameter: :user_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-11 10:24:30.161339"], ["updated_at", "2019-01-11 10:24:30.161339"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (9.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:24:30 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.2ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:42.894630', '2019-01-11 10:24:42.894630', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:42.894630', '2019-01-11 10:24:42.894630', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:42.896626', '2019-01-11 10:24:42.896626', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:42.896626', '2019-01-11 10:24:42.896626', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:42.900988', '2019-01-11 10:24:42.900988', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:42.900988', '2019-01-11 10:24:42.900988', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:42.901985', '2019-01-11 10:24:42.901985', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:42.901985', '2019-01-11 10:24:42.901985', 298486374)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:24:43 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"980190962"}
Unpermitted parameter: :user_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (4.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-11 10:24:43.152572"], ["updated_at", "2019-01-11 10:24:43.152572"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 16ms (Views: 1.1ms | ActiveRecord: 4.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (11.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:24:43 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:24:43 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.8ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:58.657087', '2019-01-11 10:24:58.657087', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:24:58.657087', '2019-01-11 10:24:58.657087', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:58.659692', '2019-01-11 10:24:58.659692', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:24:58.659692', '2019-01-11 10:24:58.659692', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:58.659692', '2019-01-11 10:24:58.659692', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:24:58.659692', '2019-01-11 10:24:58.659692', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:58.666281', '2019-01-11 10:24:58.666281', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:24:58.666281', '2019-01-11 10:24:58.666281', 298486374)[0m
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:24:58 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/available" for 127.0.0.1 at 2019-01-11 05:24:58 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:24:58 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (3.8ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 6ms (ActiveRecord: 4.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (9.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:24:58 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:24:58 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (1.9ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-11 10:24:58.958304"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (23.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:24:58 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"980190962"}
Unpermitted parameter: :user_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-11 10:24:58.998769"], ["updated_at", "2019-01-11 10:24:58.998769"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 1.1ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (10.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (2.3ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:25:41.009238', '2019-01-11 10:25:41.009238', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:25:41.009238', '2019-01-11 10:25:41.009238', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:25:41.009238', '2019-01-11 10:25:41.009238', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:25:41.009238', '2019-01-11 10:25:41.009238', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:25:41.014348', '2019-01-11 10:25:41.014348', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:25:41.014348', '2019-01-11 10:25:41.014348', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:25:41.017282', '2019-01-11 10:25:41.017282', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:25:41.017282', '2019-01-11 10:25:41.017282', 298486374)[0m
  [1m[35m (24.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:25:41 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:25:41 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (1.0ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-11 10:25:41.273299"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (10.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:25:41 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (2.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 5ms (ActiveRecord: 2.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/available" for 127.0.0.1 at 2019-01-11 05:25:41 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:25:41 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:25:41 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"980190962"}
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (2.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-11 10:25:41.353350"], ["updated_at", "2019-01-11 10:25:41.353350"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 1.8ms | ActiveRecord: 3.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (17.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:28:32.363342', '2019-01-11 10:28:32.363342', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:28:32.363342', '2019-01-11 10:28:32.363342', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:28:32.363342', '2019-01-11 10:28:32.363342', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:28:32.363342', '2019-01-11 10:28:32.363342', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:28:32.367526', '2019-01-11 10:28:32.367526', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:28:32.367526', '2019-01-11 10:28:32.367526', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:28:32.368525', '2019-01-11 10:28:32.368525', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:28:32.368525', '2019-01-11 10:28:32.368525', 298486374)[0m
  [1m[35m (13.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:28:32 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (3.7ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-11 10:28:32.603853"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 14ms (ActiveRecord: 3.9ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (10.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/available" for 127.0.0.1 at 2019-01-11 05:28:32 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:28:32 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:28:32 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/980190962/products/980190962" for 127.0.0.1 at 2019-01-11 05:28:32 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (0.9ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/980190962/products" for 127.0.0.1 at 2019-01-11 05:28:32 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"980190962"}
Unpermitted parameter: :user_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-11 10:28:32.675886"], ["updated_at", "2019-01-11 10:28:32.675886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:34:27.877640', '2019-01-11 10:34:27.877640', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:34:27.877640', '2019-01-11 10:34:27.877640', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:34:27.881705', '2019-01-11 10:34:27.881705', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:34:27.881705', '2019-01-11 10:34:27.881705', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:34:27.881705', '2019-01-11 10:34:27.881705', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:34:27.881705', '2019-01-11 10:34:27.881705', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:34:27.886775', '2019-01-11 10:34:27.886775', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:34:27.886775', '2019-01-11 10:34:27.886775', 298486374)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2019-01-11 05:34:28 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 15ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962" for 127.0.0.1 at 2019-01-11 05:34:28 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-11 10:34:28.158031"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (11.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-11 05:34:28 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-11 05:34:28 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-11 10:34:28.212807"], ["updated_at", "2019-01-11 10:34:28.212807"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 1.3ms | ActiveRecord: 2.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (11.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-01-11 05:34:28 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (18.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:35:14.208803', '2019-01-11 10:35:14.208803', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:35:14.208803', '2019-01-11 10:35:14.208803', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:35:14.213075', '2019-01-11 10:35:14.213075', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:35:14.213075', '2019-01-11 10:35:14.213075', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:35:14.216069', '2019-01-11 10:35:14.216069', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:35:14.216069', '2019-01-11 10:35:14.216069', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:35:14.218120', '2019-01-11 10:35:14.218120', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:35:14.218120', '2019-01-11 10:35:14.218120', 298486374)[0m
  [1m[35m (18.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-01-11 05:35:14 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (3.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962
Completed 302 Found in 13ms (ActiveRecord: 4.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (11.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-11 05:35:14 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-11 10:35:14.507161"], ["updated_at", "2019-01-11 10:35:14.507161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (10.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962" for 127.0.0.1 at 2019-01-11 05:35:14 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-11 10:35:14.527977"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (15.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2019-01-11 05:35:14 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-11 05:35:14 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.2ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:36:32.777240', '2019-01-11 10:36:32.777240', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:36:32.777240', '2019-01-11 10:36:32.777240', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:36:32.785441', '2019-01-11 10:36:32.785441', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:36:32.785441', '2019-01-11 10:36:32.785441', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:36:32.795069', '2019-01-11 10:36:32.795069', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:36:32.795069', '2019-01-11 10:36:32.795069', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:36:32.803687', '2019-01-11 10:36:32.803687', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:36:32.803687', '2019-01-11 10:36:32.803687', 298486374)[0m
  [1m[35m (15.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-11 05:36:33 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-11 10:36:33.146376"], ["updated_at", "2019-01-11 10:36:33.146376"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 1.1ms | ActiveRecord: 4.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962" for 127.0.0.1 at 2019-01-11 05:36:33 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-11 10:36:33.172015"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2019-01-11 05:36:33 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-01-11 05:36:33 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (3.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 4.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (20.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-11 05:36:33 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:36:51.653445', '2019-01-11 10:36:51.653445', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 10:36:51.653445', '2019-01-11 10:36:51.653445', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:36:51.655442', '2019-01-11 10:36:51.655442', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 10:36:51.655442', '2019-01-11 10:36:51.655442', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:36:51.657213', '2019-01-11 10:36:51.657213', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 10:36:51.657213', '2019-01-11 10:36:51.657213', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:36:51.659209', '2019-01-11 10:36:51.659209', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 10:36:51.659209', '2019-01-11 10:36:51.659209', 298486374)[0m
  [1m[35m (18.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-11 05:36:51 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 9ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2019-01-11 05:36:51 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (4.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 4.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (10.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2019-01-11 05:36:52 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/users/980190962/products
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/980190962" for 127.0.0.1 at 2019-01-11 05:36:52 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-11 10:36:52.024124"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (10.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-11 05:36:52 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-11 10:36:52.052341"], ["updated_at", "2019-01-11 10:36:52.052341"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 2.5ms | ActiveRecord: 4.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (20.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:05:21.337621', '2019-01-11 11:05:21.337621', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:05:21.337621', '2019-01-11 11:05:21.337621', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:05:21.341769', '2019-01-11 11:05:21.341769', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:05:21.341769', '2019-01-11 11:05:21.341769', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:05:21.348084', '2019-01-11 11:05:21.348084', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:05:21.348084', '2019-01-11 11:05:21.348084', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:05:21.353720', '2019-01-11 11:05:21.353720', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:05:21.353720', '2019-01-11 11:05:21.353720', 298486374)[0m
  [1m[35m (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:05:21 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:05:21.721270"], ["updated_at", "2019-01-11 11:05:21.721270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 128ms (ActiveRecord: 1.9ms)
  [1m[35m (11.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:05:21 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:05:21.755353"], ["updated_at", "2019-01-11 11:05:21.755353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:05:21 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:05:21 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 7ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.8ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:07:10.400899', '2019-01-11 11:07:10.400899', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:07:10.400899', '2019-01-11 11:07:10.400899', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:07:10.404625', '2019-01-11 11:07:10.404625', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:07:10.404625', '2019-01-11 11:07:10.404625', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:07:10.406620', '2019-01-11 11:07:10.406620', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:07:10.406620', '2019-01-11 11:07:10.406620', 298486374)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:07:10.408615', '2019-01-11 11:07:10.408615', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:07:10.408615', '2019-01-11 11:07:10.408615', 298486374)[0m
  [1m[35m (30.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:07:10 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:07:10.765105"], ["updated_at", "2019-01-11 11:07:10.765105"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 31ms (ActiveRecord: 4.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:07:10 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:07:10.801037"], ["updated_at", "2019-01-11 11:07:10.801037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (15.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:07:10 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 6ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:07:10 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 7ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:08:32.294148', '2019-01-11 11:08:32.294148', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:08:32.294148', '2019-01-11 11:08:32.294148', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:08:32.297743', '2019-01-11 11:08:32.297743', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:08:32.297743', '2019-01-11 11:08:32.297743', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:08:32.300735', '2019-01-11 11:08:32.300735', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:08:32.300735', '2019-01-11 11:08:32.300735', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:08:32.304208', '2019-01-11 11:08:32.304208', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:08:32.304208', '2019-01-11 11:08:32.304208', 298486374)[0m
  [1m[35m (23.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:08:32 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:08:32.595568"], ["updated_at", "2019-01-11 11:08:32.595568"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 27ms (ActiveRecord: 4.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:08:32 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (11.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:08:32 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:08:32.637840"], ["updated_at", "2019-01-11 11:08:32.637840"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:08:32 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:08:32 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:08:32 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:11:21.882951', '2019-01-11 11:11:21.882951', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:11:21.882951', '2019-01-11 11:11:21.882951', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:11:21.882951', '2019-01-11 11:11:21.882951', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:11:21.882951', '2019-01-11 11:11:21.882951', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:11:21.887093', '2019-01-11 11:11:21.887093', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:11:21.887093', '2019-01-11 11:11:21.887093', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:11:21.888128', '2019-01-11 11:11:21.888128', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:11:21.888128', '2019-01-11 11:11:21.888128', 298486374)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:11:22 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:11:22.115751"], ["updated_at", "2019-01-11 11:11:22.115751"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 24ms (ActiveRecord: 3.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:11:22 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:11:22.143378"], ["updated_at", "2019-01-11 11:11:22.143378"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:11:22 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (13.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:11:22 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:11:22 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:11:22 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 11ms (Views: 0.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:15:31.320978', '2019-01-11 11:15:31.320978', 298486374)[0m
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:15:31.553158"], ["updated_at", "2019-01-11 11:15:31.553158"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 25ms (ActiveRecord: 3.8ms)
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (12.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:15:31.593839"], ["updated_at", "2019-01-11 11:15:31.593839"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (16.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:15:31.673999"], ["updated_at", "2019-01-11 11:15:31.673999"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 15ms (ActiveRecord: 6.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (18.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:15:31.727026"], ["updated_at", "2019-01-11 11:15:31.727026"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 3.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:15:31 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 11ms (Views: 0.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (17.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:20:21.347509', '2019-01-11 11:20:21.347509', 298486374)[0m
  [1m[35m (18.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:20:21 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:20:21.638591"], ["updated_at", "2019-01-11 11:20:21.638591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 26ms (ActiveRecord: 4.0ms)
Started GET "/users/980190962/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:20:21 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:20:21 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:20:21 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:20:21 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:20:21.694137"], ["updated_at", "2019-01-11 11:20:21.694137"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (13.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:20:21 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (5.0ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:26:21.007827', '2019-01-11 11:26:21.007827', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:26:21.007827', '2019-01-11 11:26:21.007827', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:26:21.014393', '2019-01-11 11:26:21.014393', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:26:21.014393', '2019-01-11 11:26:21.014393', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:26:21.022055', '2019-01-11 11:26:21.022055', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:26:21.022055', '2019-01-11 11:26:21.022055', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:26:21.026268', '2019-01-11 11:26:21.026268', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:26:21.026268', '2019-01-11 11:26:21.026268', 298486374)[0m
  [1m[35m (14.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:26:21 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 19ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:26:21 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:26:21 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:26:21.302185"], ["updated_at", "2019-01-11 11:26:21.302185"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 4.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:26:21 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 10ms (Views: 0.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:26:21 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:26:21.361635"], ["updated_at", "2019-01-11 11:26:21.361635"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 3.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:26:21 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (14.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (5.1ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:28:20.671448', '2019-01-11 11:28:20.671448', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:28:20.671448', '2019-01-11 11:28:20.671448', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:28:20.675985', '2019-01-11 11:28:20.675985', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:28:20.675985', '2019-01-11 11:28:20.675985', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:28:20.676982', '2019-01-11 11:28:20.676982', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:28:20.676982', '2019-01-11 11:28:20.676982', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:28:20.679302', '2019-01-11 11:28:20.679302', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:28:20.679302', '2019-01-11 11:28:20.679302', 298486374)[0m
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:28:20 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 19ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:28:20 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:28:20 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:28:20.946679"], ["updated_at", "2019-01-11 11:28:20.946679"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 4.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:28:20 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:28:20 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 6ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:28:20 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:28:20.992787"], ["updated_at", "2019-01-11 11:28:20.992787"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:30:04.582722', '2019-01-11 11:30:04.582722', 298486374)[0m
  [1m[35m (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:30:04 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 23ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:30:04 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:30:04 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:30:04.916409"], ["updated_at", "2019-01-11 11:30:04.916409"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (8.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:31:41.038021', '2019-01-11 11:31:41.038021', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:31:41.038021', '2019-01-11 11:31:41.038021', 298486374, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:31:41.039076', '2019-01-11 11:31:41.039076', 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:31:41.039076', '2019-01-11 11:31:41.039076', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:31:41.039076', '2019-01-11 11:31:41.039076', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:31:41.039076', '2019-01-11 11:31:41.039076', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:31:41.039076', '2019-01-11 11:31:41.039076', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:31:41.039076', '2019-01-11 11:31:41.039076', 298486374)[0m
  [1m[35m (17.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/980190962/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:31:41 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:31:41.298377"], ["updated_at", "2019-01-11 11:31:41.298377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190962/cart_items/980190963
Completed 302 Found in 24ms (ActiveRecord: 3.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (13.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:31:41 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:31:41 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:31:41 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"980190962", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 10ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/cart_items" for 127.0.0.1 at 2019-01-11 06:31:41 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 10ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePurchasedItems (20190110085443)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP TABLE "purchased_items"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20190110085443"]]
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePurchasedItems (20190110085443)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "purchased_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "title" varchar, "price" decimal, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_purchased_items_on_user_id" ON "purchased_items" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190110085443"]]
  [1m[35m (18.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (5.2ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:35:43.982247', '2019-01-11 11:35:43.982247', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:35:43.982247', '2019-01-11 11:35:43.982247', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:35:43.984657', '2019-01-11 11:35:43.984657', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:35:43.984657', '2019-01-11 11:35:43.984657', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:35:43.986199', '2019-01-11 11:35:43.986199', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:35:43.986199', '2019-01-11 11:35:43.986199', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:35:43.987196', '2019-01-11 11:35:43.987196', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:35:43.987196', '2019-01-11 11:35:43.987196', 283483334)[0m
  [1m[35m (13.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.6ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:36:43.761169', '2019-01-11 11:36:43.761169', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:36:43.761169', '2019-01-11 11:36:43.761169', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:36:43.762202', '2019-01-11 11:36:43.762202', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:36:43.762202', '2019-01-11 11:36:43.762202', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:36:43.762202', '2019-01-11 11:36:43.762202', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:36:43.762202', '2019-01-11 11:36:43.762202', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:36:43.766304', '2019-01-11 11:36:43.766304', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:36:43.766304', '2019-01-11 11:36:43.766304', 283483334)[0m
  [1m[35m (19.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:36:43 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 19ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:36:44 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:36:44.018092"], ["updated_at", "2019-01-11 11:36:44.018092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:36:44 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:36:44 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 8ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:36:44 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 9ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:37:56.376274', '2019-01-11 11:37:56.376274', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:37:56.376274', '2019-01-11 11:37:56.376274', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:37:56.376274', '2019-01-11 11:37:56.376274', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:37:56.376274', '2019-01-11 11:37:56.376274', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:37:56.376274', '2019-01-11 11:37:56.376274', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:37:56.376274', '2019-01-11 11:37:56.376274', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:37:56.381805', '2019-01-11 11:37:56.381805', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:37:56.381805', '2019-01-11 11:37:56.381805', 283483334)[0m
  [1m[35m (15.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:37:56 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:37:56.624816"], ["updated_at", "2019-01-11 11:37:56.624816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 24ms (ActiveRecord: 3.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:37:56 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:37:56 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:37:56 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:38:23.233815', '2019-01-11 11:38:23.233815', 283483334)[0m
  [1m[35m (19.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:38:23 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 20ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:38:23 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:38:23.490812"], ["updated_at", "2019-01-11 11:38:23.490812"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 4.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:38:23 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:38:23 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 8ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:38:36.420143', '2019-01-11 11:38:36.420143', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:38:36.420143', '2019-01-11 11:38:36.420143', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:38:36.422168', '2019-01-11 11:38:36.422168', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:38:36.422168', '2019-01-11 11:38:36.422168', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:38:36.422168', '2019-01-11 11:38:36.422168', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:38:36.422168', '2019-01-11 11:38:36.422168', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:38:36.422168', '2019-01-11 11:38:36.422168', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:38:36.422168', '2019-01-11 11:38:36.422168', 283483334)[0m
  [1m[35m (21.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:38:36 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 19ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:38:36 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:38:36.687985"], ["updated_at", "2019-01-11 11:38:36.687985"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 4.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 06:38:36 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190962/removefromcart" for 127.0.0.1 at 2019-01-11 06:38:36 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 8ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190962" for 127.0.0.1 at 2019-01-11 06:38:36 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 8ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.2ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:53:34.017460', '2019-01-11 11:53:34.017460', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:53:34.017460', '2019-01-11 11:53:34.017460', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:53:34.019925', '2019-01-11 11:53:34.019925', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:53:34.019925', '2019-01-11 11:53:34.019925', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:53:34.021234', '2019-01-11 11:53:34.021234', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:53:34.021234', '2019-01-11 11:53:34.021234', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:53:34.024614', '2019-01-11 11:53:34.024614', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:53:34.024614', '2019-01-11 11:53:34.024614', 283483334)[0m
  [1m[35m (15.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:53:34 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 43ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.3ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:55:28.332878', '2019-01-11 11:55:28.332878', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:55:28.332878', '2019-01-11 11:55:28.332878', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:55:28.334918', '2019-01-11 11:55:28.334918', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:55:28.334918', '2019-01-11 11:55:28.334918', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:55:28.340450', '2019-01-11 11:55:28.340450', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:55:28.340450', '2019-01-11 11:55:28.340450', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:55:28.340450', '2019-01-11 11:55:28.340450', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:55:28.340450', '2019-01-11 11:55:28.340450', 283483334)[0m
  [1m[35m (13.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:55:28 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 21ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.3ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:55:36.580479', '2019-01-11 11:55:36.580479', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:55:36.580479', '2019-01-11 11:55:36.580479', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:55:36.582710', '2019-01-11 11:55:36.582710', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:55:36.582710', '2019-01-11 11:55:36.582710', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:55:36.584021', '2019-01-11 11:55:36.584021', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:55:36.584021', '2019-01-11 11:55:36.584021', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:55:36.585571', '2019-01-11 11:55:36.585571', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:55:36.585571', '2019-01-11 11:55:36.585571', 283483334)[0m
  [1m[35m (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:55:36 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:55:36.850185"], ["updated_at", "2019-01-11 11:55:36.850185"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 28ms (ActiveRecord: 4.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (12.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:56:27.582102', '2019-01-11 11:56:27.582102', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:56:27.582102', '2019-01-11 11:56:27.582102', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:56:27.586900', '2019-01-11 11:56:27.586900', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:56:27.586900', '2019-01-11 11:56:27.586900', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:56:27.588527', '2019-01-11 11:56:27.588527', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:56:27.588527', '2019-01-11 11:56:27.588527', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:56:27.589572', '2019-01-11 11:56:27.589572', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:56:27.589572', '2019-01-11 11:56:27.589572', 283483334)[0m
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:56:27 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:56:27.811607"], ["updated_at", "2019-01-11 11:56:27.811607"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 25ms (ActiveRecord: 4.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:56:27 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:56:27.845503"], ["updated_at", "2019-01-11 11:56:27.845503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:56:27 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 9ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[35m (15.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:57:28.929360', '2019-01-11 11:57:28.929360', 980190962, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("title", "price", "inventory_count", "p_id", "created_at", "updated_at", "id", "user_id") VALUES ('MyString', 9.99, 1, 1, '2019-01-11 11:57:28.929360', '2019-01-11 11:57:28.929360', 298486374, 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:57:28.929360', '2019-01-11 11:57:28.929360', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 11:57:28.929360', '2019-01-11 11:57:28.929360', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:57:28.933355', '2019-01-11 11:57:28.933355', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 11:57:28.933355', '2019-01-11 11:57:28.933355', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:57:28.933355', '2019-01-11 11:57:28.933355', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 11:57:28.933355', '2019-01-11 11:57:28.933355', 283483334)[0m
  [1m[35m (18.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:57:29 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:57:29.184343"], ["updated_at", "2019-01-11 11:57:29.184343"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 26ms (ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 06:57:29 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 11:57:29.215218"], ["updated_at", "2019-01-11 11:57:29.215218"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 06:57:29 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (16.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.8ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:01:30.286416', '2019-01-11 12:01:30.286416', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:01:30.286416', '2019-01-11 12:01:30.286416', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:01:30.289919', '2019-01-11 12:01:30.289919', 980190962)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:01:30.289919', '2019-01-11 12:01:30.289919', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:01:30.292255', '2019-01-11 12:01:30.292255', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:01:30.292255', '2019-01-11 12:01:30.292255', 283483334)[0m
  [1m[35m (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:01:30 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:01:30.538793"], ["updated_at", "2019-01-11 12:01:30.538793"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 29ms (ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:01:30 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:01:30.569158"], ["updated_at", "2019-01-11 12:01:30.569158"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:01:30 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 11ms (Views: 2.2ms | ActiveRecord: 0.9ms)
  [1m[35m (16.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.3ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:02:03.735544', '2019-01-11 12:02:03.735544', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:02:03.735544', '2019-01-11 12:02:03.735544', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:02:03.736576', '2019-01-11 12:02:03.736576', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:02:03.736576', '2019-01-11 12:02:03.736576', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:02:03.736576', '2019-01-11 12:02:03.736576', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:02:03.736576', '2019-01-11 12:02:03.736576', 283483334)[0m
  [1m[35m (13.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:02:03 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:02:03.996165"], ["updated_at", "2019-01-11 12:02:03.996165"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 30ms (ActiveRecord: 4.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:02:04 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:02:04.026810"], ["updated_at", "2019-01-11 12:02:04.026810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:02:04 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 9ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[35m (10.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:02:28.026028', '2019-01-11 12:02:28.026028', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:02:28.026028', '2019-01-11 12:02:28.026028', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:02:28.026028', '2019-01-11 12:02:28.026028', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:02:28.026028', '2019-01-11 12:02:28.026028', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:02:28.030024', '2019-01-11 12:02:28.030024', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:02:28.030024', '2019-01-11 12:02:28.030024', 283483334)[0m
  [1m[35m (19.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:02:28 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:02:28.287587"], ["updated_at", "2019-01-11 12:02:28.287587"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 31ms (ActiveRecord: 4.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (9.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:02:28 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:02:28.319422"], ["updated_at", "2019-01-11 12:02:28.319422"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:02:28 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 0.8ms)
  [1m[35m (14.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.8ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:03:01.594049', '2019-01-11 12:03:01.594049', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:03:01.594049', '2019-01-11 12:03:01.594049', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:03:01.596478', '2019-01-11 12:03:01.596478', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:03:01.596478', '2019-01-11 12:03:01.596478', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:03:01.599936', '2019-01-11 12:03:01.599936', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:03:01.599936', '2019-01-11 12:03:01.599936', 283483334)[0m
  [1m[35m (22.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:03:01 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:03:01.873298"], ["updated_at", "2019-01-11 12:03:01.873298"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 27ms (ActiveRecord: 1.2ms)
  [1m[35m (13.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:03:01 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:03:01.901592"], ["updated_at", "2019-01-11 12:03:01.901592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:03:01 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 13ms (Views: 4.1ms | ActiveRecord: 0.7ms)
  [1m[35m (15.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:03:01 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:03:01.962979"], ["updated_at", "2019-01-11 12:03:01.962979"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 15ms (ActiveRecord: 4.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (17.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:03:38.080891', '2019-01-11 12:03:38.080891', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:03:38.080891', '2019-01-11 12:03:38.080891', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:03:38.080891', '2019-01-11 12:03:38.080891', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:03:38.080891', '2019-01-11 12:03:38.080891', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:03:38.084885', '2019-01-11 12:03:38.084885', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:03:38.084885', '2019-01-11 12:03:38.084885', 283483334)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:03:38 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:03:38.339027"], ["updated_at", "2019-01-11 12:03:38.339027"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 31ms (ActiveRecord: 4.1ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:03:38 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.6ms)
  [1m[35m (11.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:03:38 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:03:38.381862"], ["updated_at", "2019-01-11 12:03:38.381862"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:03:38 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 9ms (Views: 2.0ms | ActiveRecord: 0.7ms)
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:03:38 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:03:38.419022"], ["updated_at", "2019-01-11 12:03:38.419022"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (13.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:05:48.574786', '2019-01-11 12:05:48.574786', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:05:48.574786', '2019-01-11 12:05:48.574786', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:05:48.575819', '2019-01-11 12:05:48.575819', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:05:48.575819', '2019-01-11 12:05:48.575819', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:05:48.575819', '2019-01-11 12:05:48.575819', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:05:48.575819', '2019-01-11 12:05:48.575819', 283483334)[0m
  [1m[35m (20.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:05:48 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:05:48.843538"], ["updated_at", "2019-01-11 12:05:48.843538"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 30ms (ActiveRecord: 3.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:05:48 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:05:48.872495"], ["updated_at", "2019-01-11 12:05:48.872495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:05:48 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (12.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:05:48 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:05:48.915523"], ["updated_at", "2019-01-11 12:05:48.915523"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 4.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:05:48 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (3.0ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 19ms (ActiveRecord: 4.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (11.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:05:48 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:05:48.976950"], ["updated_at", "2019-01-11 12:05:48.976950"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:05:48 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 0.9ms)
  [1m[35m (11.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:06:06.155581', '2019-01-11 12:06:06.155581', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:06:06.155581', '2019-01-11 12:06:06.155581', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:06:06.155581', '2019-01-11 12:06:06.155581', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:06:06.155581', '2019-01-11 12:06:06.155581', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:06:06.159941', '2019-01-11 12:06:06.159941', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:06:06.159941', '2019-01-11 12:06:06.159941', 283483334)[0m
  [1m[35m (19.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:06:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:06:06.401126"], ["updated_at", "2019-01-11 12:06:06.401126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 30ms (ActiveRecord: 4.0ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:06:06 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.8ms)
  [1m[35m (11.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:06:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:06:06.446533"], ["updated_at", "2019-01-11 12:06:06.446533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:06:06 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:06:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:06:06.479542"], ["updated_at", "2019-01-11 12:06:06.479542"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:06:06 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:06:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:06:06.511651"], ["updated_at", "2019-01-11 12:06:06.511651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (7.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:07:14.918923', '2019-01-11 12:07:14.918923', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:07:14.918923', '2019-01-11 12:07:14.918923', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:07:14.923016', '2019-01-11 12:07:14.923016', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:07:14.923016', '2019-01-11 12:07:14.923016', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:07:14.923016', '2019-01-11 12:07:14.923016', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:07:14.923016', '2019-01-11 12:07:14.923016', 283483334)[0m
  [1m[35m (15.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:07:15 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:07:15.185898"], ["updated_at", "2019-01-11 12:07:15.185898"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 31ms (ActiveRecord: 4.1ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:07:15 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (9.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:07:15 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:07:15.220610"], ["updated_at", "2019-01-11 12:07:15.220610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:07:15 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (11.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:07:15 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:07:15.251019"], ["updated_at", "2019-01-11 12:07:15.251019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:07:15 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (10.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:07:15 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:07:15.291983"], ["updated_at", "2019-01-11 12:07:15.291983"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 3.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (19.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:10:38.648450', '2019-01-11 12:10:38.648450', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:10:38.648450', '2019-01-11 12:10:38.648450', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:10:38.652492', '2019-01-11 12:10:38.652492', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:10:38.652492', '2019-01-11 12:10:38.652492', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:10:38.652492', '2019-01-11 12:10:38.652492', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:10:38.652492', '2019-01-11 12:10:38.652492', 283483334)[0m
  [1m[35m (18.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:10:38 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 21ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:10:38 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:10:38.941031"], ["updated_at", "2019-01-11 12:10:38.941031"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 32ms (ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (23.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:10:38 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:10:39.002819"], ["updated_at", "2019-01-11 12:10:39.002819"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 6.7ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:10:39 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 20ms (Views: 4.2ms | ActiveRecord: 1.7ms)
  [1m[35m (18.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:10:39 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:10:39.081838"], ["updated_at", "2019-01-11 12:10:39.081838"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 15ms (ActiveRecord: 6.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:10:39 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.6ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 20ms (ActiveRecord: 4.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (16.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:10:39 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:10:39.158225"], ["updated_at", "2019-01-11 12:10:39.158225"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 12ms (ActiveRecord: 3.3ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:10:39 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 15ms (Views: 2.3ms | ActiveRecord: 1.4ms)
  [1m[35m (17.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.2ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:11:18.229840', '2019-01-11 12:11:18.229840', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:11:18.229840', '2019-01-11 12:11:18.229840', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:11:18.232404', '2019-01-11 12:11:18.232404', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:11:18.232404', '2019-01-11 12:11:18.232404', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:11:18.235493', '2019-01-11 12:11:18.235493', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:11:18.235493', '2019-01-11 12:11:18.235493', 283483334)[0m
  [1m[35m (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:18.468030"], ["updated_at", "2019-01-11 12:11:18.468030"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 31ms (ActiveRecord: 4.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:18.503776"], ["updated_at", "2019-01-11 12:11:18.503776"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:18.541545"], ["updated_at", "2019-01-11 12:11:18.541545"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 9ms (Views: 2.2ms | ActiveRecord: 0.7ms)
  [1m[35m (13.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:18.629016"], ["updated_at", "2019-01-11 12:11:18.629016"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 6.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:11:18 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 17ms (Views: 2.2ms | ActiveRecord: 2.0ms)
  [1m[35m (18.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:11:57.877650', '2019-01-11 12:11:57.877650', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:11:57.877650', '2019-01-11 12:11:57.877650', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:11:57.881948', '2019-01-11 12:11:57.881948', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:11:57.881948', '2019-01-11 12:11:57.881948', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:11:57.882983', '2019-01-11 12:11:57.882983', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:11:57.882983', '2019-01-11 12:11:57.882983', 283483334)[0m
  [1m[35m (20.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:58.160797"], ["updated_at", "2019-01-11 12:11:58.160797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 30ms (ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:58.211862"], ["updated_at", "2019-01-11 12:11:58.211862"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 16ms (ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (15.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:58.276944"], ["updated_at", "2019-01-11 12:11:58.276944"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 12ms (ActiveRecord: 3.2ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 19ms (Views: 3.6ms | ActiveRecord: 1.5ms)
  [1m[35m (16.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:11:58.339169"], ["updated_at", "2019-01-11 12:11:58.339169"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 15ms (ActiveRecord: 5.9ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:11:58 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 2.1ms | ActiveRecord: 1.3ms)
  [1m[35m (16.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:13:40.530933', '2019-01-11 12:13:40.530933', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:13:40.530933', '2019-01-11 12:13:40.530933', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:13:40.535266', '2019-01-11 12:13:40.535266', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:13:40.535266', '2019-01-11 12:13:40.535266', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:13:40.536294', '2019-01-11 12:13:40.536294', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:13:40.536294', '2019-01-11 12:13:40.536294', 283483334)[0m
  [1m[35m (21.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:13:40.807350"], ["updated_at", "2019-01-11 12:13:40.807350"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 30ms (ActiveRecord: 3.9ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[35m (16.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:13:40.852104"], ["updated_at", "2019-01-11 12:13:40.852104"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (32.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:13:40.895322"], ["updated_at", "2019-01-11 12:13:40.895322"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (9.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:13:40.927038"], ["updated_at", "2019-01-11 12:13:40.927038"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 12ms (Views: 3.2ms | ActiveRecord: 0.8ms)
  [1m[35m (18.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:13:40 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:13:59.675702', '2019-01-11 12:13:59.675702', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:13:59.675702', '2019-01-11 12:13:59.675702', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:13:59.685085', '2019-01-11 12:13:59.685085', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:13:59.685085', '2019-01-11 12:13:59.685085', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:13:59.692670', '2019-01-11 12:13:59.692670', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:13:59.692670', '2019-01-11 12:13:59.692670', 283483334)[0m
  [1m[35m (28.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:00.288026"], ["updated_at", "2019-01-11 12:14:00.288026"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 60ms (ActiveRecord: 6.1ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 16ms (Views: 1.9ms | ActiveRecord: 1.4ms)
  [1m[35m (17.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:00.351602"], ["updated_at", "2019-01-11 12:14:00.351602"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 12ms (ActiveRecord: 6.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.4ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 14ms (ActiveRecord: 3.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (19.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:00.454549"], ["updated_at", "2019-01-11 12:14:00.454549"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 5.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (17.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:00.497175"], ["updated_at", "2019-01-11 12:14:00.497175"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:14:00 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 1.7ms | ActiveRecord: 1.0ms)
  [1m[35m (14.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:14:33.771092', '2019-01-11 12:14:33.771092', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:14:33.771092', '2019-01-11 12:14:33.771092', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:14:33.774279', '2019-01-11 12:14:33.774279', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:14:33.774279', '2019-01-11 12:14:33.774279', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:14:33.776176', '2019-01-11 12:14:33.776176', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:14:33.776176', '2019-01-11 12:14:33.776176', 283483334)[0m
  [1m[35m (15.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:14:33 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 18ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:34.015992"], ["updated_at", "2019-01-11 12:14:34.015992"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 17ms (ActiveRecord: 6.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (13.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:34.046055"], ["updated_at", "2019-01-11 12:14:34.046055"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:14:34 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 12ms (Views: 2.7ms | ActiveRecord: 0.9ms)
  [1m[35m (16.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:34.095766"], ["updated_at", "2019-01-11 12:14:34.095766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:14:34 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 19ms (ActiveRecord: 4.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (18.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:34.174062"], ["updated_at", "2019-01-11 12:14:34.174062"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 12ms (ActiveRecord: 3.6ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:14:34 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 1.9ms | ActiveRecord: 1.4ms)
  [1m[35m (18.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:14:56.695287', '2019-01-11 12:14:56.695287', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:14:56.695287', '2019-01-11 12:14:56.695287', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:14:56.695287', '2019-01-11 12:14:56.695287', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:14:56.695287', '2019-01-11 12:14:56.695287', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:14:56.695287', '2019-01-11 12:14:56.695287', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:14:56.695287', '2019-01-11 12:14:56.695287', 283483334)[0m
  [1m[35m (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:56 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:56.927621"], ["updated_at", "2019-01-11 12:14:56.927621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 26ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:14:56 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (13.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:56 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:56.975526"], ["updated_at", "2019-01-11 12:14:56.975526"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:56 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:57.004302"], ["updated_at", "2019-01-11 12:14:57.004302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:14:57 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 9ms (Views: 2.2ms | ActiveRecord: 0.7ms)
  [1m[35m (9.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:14:57 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:14:57.039656"], ["updated_at", "2019-01-11 12:14:57.039656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:14:57 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (9.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:14:57 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.1ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:15:25.231434', '2019-01-11 12:15:25.231434', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:15:25.231434', '2019-01-11 12:15:25.231434', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:15:25.231434', '2019-01-11 12:15:25.231434', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:15:25.231434', '2019-01-11 12:15:25.231434', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:15:25.235953', '2019-01-11 12:15:25.235953', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:15:25.235953', '2019-01-11 12:15:25.235953', 283483334)[0m
  [1m[35m (17.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:15:25 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:15:25.486949"], ["updated_at", "2019-01-11 12:15:25.486949"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 44ms (ActiveRecord: 4.2ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:15:25 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:15:25 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:15:25.522415"], ["updated_at", "2019-01-11 12:15:25.522415"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:15:25 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:15:25 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:15:25.545029"], ["updated_at", "2019-01-11 12:15:25.545029"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:15:25 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:15:25.569266"], ["updated_at", "2019-01-11 12:15:25.569266"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:15:25 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.0ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 15ms (ActiveRecord: 3.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (10.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:17:02.660516', '2019-01-11 12:17:02.660516', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:17:02.660516', '2019-01-11 12:17:02.660516', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:17:02.662935', '2019-01-11 12:17:02.662935', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "purchased_items" ("title", "price", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, '2019-01-11 12:17:02.662935', '2019-01-11 12:17:02.662935', 298486374)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:17:02.664465', '2019-01-11 12:17:02.664465', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:17:02.664465', '2019-01-11 12:17:02.664465', 283483334)[0m
  [1m[35m (24.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:17:02 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 18ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:17:02 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:17:02.936518"], ["updated_at", "2019-01-11 12:17:02.936518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (9.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:17:02 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:17:02.972209"], ["updated_at", "2019-01-11 12:17:02.972209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:17:02 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:17:02 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:17:03.001005"], ["updated_at", "2019-01-11 12:17:03.001005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:17:03 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (10.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:17:03 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:17:03.033520"], ["updated_at", "2019-01-11 12:17:03.033520"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:17:03 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 15ms (Views: 2.2ms | ActiveRecord: 1.3ms)
  [1m[35m (11.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:18:06.085062', '2019-01-11 12:18:06.085062', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:18:06.085062', '2019-01-11 12:18:06.085062', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:18:06.087312', '2019-01-11 12:18:06.087312', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:18:06.087312', '2019-01-11 12:18:06.087312', 283483334)[0m
  [1m[35m (16.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:06.368749"], ["updated_at", "2019-01-11 12:18:06.368749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 46ms (ActiveRecord: 4.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (13.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:06.434902"], ["updated_at", "2019-01-11 12:18:06.434902"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 4.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (22.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (6.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:06.500803"], ["updated_at", "2019-01-11 12:18:06.500803"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 20ms (ActiveRecord: 7.4ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 21ms (Views: 3.8ms | ActiveRecord: 2.0ms)
  [1m[35m (20.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:06.600073"], ["updated_at", "2019-01-11 12:18:06.600073"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 11ms (ActiveRecord: 3.1ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:18:06 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 1.6ms | ActiveRecord: 2.1ms)
  [1m[35m (13.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:18:43.397977', '2019-01-11 12:18:43.397977', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:18:43.397977', '2019-01-11 12:18:43.397977', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:18:43.402038', '2019-01-11 12:18:43.402038', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:18:43.402038', '2019-01-11 12:18:43.402038', 283483334)[0m
  [1m[35m (15.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:43 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:43.677290"], ["updated_at", "2019-01-11 12:18:43.677290"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 32ms (ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:43 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:43.709436"], ["updated_at", "2019-01-11 12:18:43.709436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:18:43 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (19.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:43 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:43.763356"], ["updated_at", "2019-01-11 12:18:43.763356"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 4.2ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:18:43 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 1.7ms | ActiveRecord: 1.3ms)
  [1m[35m (12.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:43 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:43.811302"], ["updated_at", "2019-01-11 12:18:43.811302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:18:43 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 13ms (Views: 2.5ms | ActiveRecord: 1.0ms)
  [1m[35m (15.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:18:59.523101', '2019-01-11 12:18:59.523101', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:18:59.523101', '2019-01-11 12:18:59.523101', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:18:59.525933', '2019-01-11 12:18:59.525933', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:18:59.525933', '2019-01-11 12:18:59.525933', 283483334)[0m
  [1m[35m (25.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items" WHERE "purchased_items"."user_id" = ?[0m  [["user_id", 994283606]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items" WHERE "purchased_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:59.819883"], ["updated_at", "2019-01-11 12:18:59.819883"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 3.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:59.844679"], ["updated_at", "2019-01-11 12:18:59.844679"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (10.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:59.878642"], ["updated_at", "2019-01-11 12:18:59.878642"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 14ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[35m (17.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (6.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:18:59.938150"], ["updated_at", "2019-01-11 12:18:59.938150"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 17ms (ActiveRecord: 7.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:18:59 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 18ms (ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (16.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.1ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:23:05.009069', '2019-01-11 12:23:05.009069', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:23:05.009069', '2019-01-11 12:23:05.009069', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:23:05.014066', '2019-01-11 12:23:05.014066', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:23:05.014066', '2019-01-11 12:23:05.014066', 283483334)[0m
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 18ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:23:05.303223"], ["updated_at", "2019-01-11 12:23:05.303223"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 26ms (ActiveRecord: 6.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 20ms (ActiveRecord: 4.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (20.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:23:05.392133"], ["updated_at", "2019-01-11 12:23:05.392133"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 3.7ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 15ms (Views: 2.8ms | ActiveRecord: 1.4ms)
  [1m[35m (19.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:23:05.465015"], ["updated_at", "2019-01-11 12:23:05.465015"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 6.2ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 20ms (Views: 3.5ms | ActiveRecord: 1.6ms)
  [1m[35m (18.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:23:05 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:23:05.539487"], ["updated_at", "2019-01-11 12:23:05.539487"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 6.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (28.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:24:33.788055', '2019-01-11 12:24:33.788055', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:24:33.788055', '2019-01-11 12:24:33.788055', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:24:33.789271', '2019-01-11 12:24:33.789271', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:24:33.789271', '2019-01-11 12:24:33.789271', 283483334)[0m
  [1m[35m (27.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:34.054708"], ["updated_at", "2019-01-11 12:24:34.054708"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 29ms (ActiveRecord: 4.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:24:34 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (11.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:34.096063"], ["updated_at", "2019-01-11 12:24:34.096063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (16.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:34.129809"], ["updated_at", "2019-01-11 12:24:34.129809"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:24:34 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 9ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:34 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:34.162689"], ["updated_at", "2019-01-11 12:24:34.162689"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:24:34 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (9.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:24:51.666447', '2019-01-11 12:24:51.666447', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:24:51.666447', '2019-01-11 12:24:51.666447', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:24:51.666447', '2019-01-11 12:24:51.666447', 994283606)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:24:51.666447', '2019-01-11 12:24:51.666447', 283483334)[0m
  [1m[35m (24.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items" WHERE "purchased_items"."user_id" = ?[0m  [["user_id", 994283606]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:24:51 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:51 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:51.968849"], ["updated_at", "2019-01-11 12:24:51.968849"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 21ms (ActiveRecord: 4.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:51 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:51.994932"], ["updated_at", "2019-01-11 12:24:51.994932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:24:51 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 10ms (Views: 2.5ms | ActiveRecord: 0.8ms)
  [1m[35m (15.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:52.042199"], ["updated_at", "2019-01-11 12:24:52.042199"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:24:52 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 1.8ms | ActiveRecord: 1.0ms)
  [1m[35m (17.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:24:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:24:52.102934"], ["updated_at", "2019-01-11 12:24:52.102934"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:24:52 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 19ms (ActiveRecord: 4.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (16.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:26:39.948527', '2019-01-11 12:26:39.948527', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:26:39.948527', '2019-01-11 12:26:39.948527', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:26:39.950853', '2019-01-11 12:26:39.950853', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:26:39.950853', '2019-01-11 12:26:39.950853', 283483334)[0m
  [1m[35m (21.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:26:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:26:40.176595"], ["updated_at", "2019-01-11 12:26:40.176595"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 29ms (ActiveRecord: 3.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (22.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:26:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:26:40.227159"], ["updated_at", "2019-01-11 12:26:40.227159"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:26:40 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.6ms)
  [1m[35m (11.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:26:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:26:40.264554"], ["updated_at", "2019-01-11 12:26:40.264554"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:26:40 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:26:40 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:26:40.290386"], ["updated_at", "2019-01-11 12:26:40.290386"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:26:40 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[35m (8.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:27:16.520481', '2019-01-11 12:27:16.520481', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:27:16.520481', '2019-01-11 12:27:16.520481', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:27:16.520481', '2019-01-11 12:27:16.520481', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:27:16.520481', '2019-01-11 12:27:16.520481', 283483334)[0m
  [1m[35m (12.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:27:16 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:27:16.801358"], ["updated_at", "2019-01-11 12:27:16.801358"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 30ms (ActiveRecord: 4.0ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:27:16 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 8ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (11.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:27:16 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:27:16.835355"], ["updated_at", "2019-01-11 12:27:16.835355"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:27:16 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (13.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:27:16 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:27:16.890907"], ["updated_at", "2019-01-11 12:27:16.890907"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 3.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:27:16 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.6ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.4ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 19ms (ActiveRecord: 4.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (19.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:27:16 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.7ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:27:17 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:27:17.016052"], ["updated_at", "2019-01-11 12:27:17.016052"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 6.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (17.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:28:11.803452', '2019-01-11 12:28:11.803452', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:28:11.803452', '2019-01-11 12:28:11.803452', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:28:11.803452', '2019-01-11 12:28:11.803452', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:28:11.803452', '2019-01-11 12:28:11.803452', 283483334)[0m
  [1m[35m (15.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:12.048607"], ["updated_at", "2019-01-11 12:28:12.048607"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 30ms (ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:12.076991"], ["updated_at", "2019-01-11 12:28:12.076991"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 11ms (Views: 2.0ms | ActiveRecord: 0.9ms)
  [1m[35m (10.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items" WHERE "purchased_items"."user_id" = ?[0m  [["user_id", 994283606]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:12.143264"], ["updated_at", "2019-01-11 12:28:12.143264"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (16.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:12.185703"], ["updated_at", "2019-01-11 12:28:12.185703"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 3.1ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:28:12 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 2.3ms | ActiveRecord: 1.5ms)
  [1m[35m (15.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:28:59.421266', '2019-01-11 12:28:59.421266', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:28:59.421266', '2019-01-11 12:28:59.421266', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:28:59.439303', '2019-01-11 12:28:59.439303', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:28:59.439303', '2019-01-11 12:28:59.439303', 283483334)[0m
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 18ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "purchased_items"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:59.697281"], ["updated_at", "2019-01-11 12:28:59.697281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 20ms (ActiveRecord: 4.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (14.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:59.741350"], ["updated_at", "2019-01-11 12:28:59.741350"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (8.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:59.771779"], ["updated_at", "2019-01-11 12:28:59.771779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (13.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:28:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:28:59.817600"], ["updated_at", "2019-01-11 12:28:59.817600"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 4.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (19.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.8ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:29:24.177280', '2019-01-11 12:29:24.177280', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:29:24.177280', '2019-01-11 12:29:24.177280', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:29:24.179313', '2019-01-11 12:29:24.179313', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:29:24.179313', '2019-01-11 12:29:24.179313', 283483334)[0m
  [1m[35m (16.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 18ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:29:24.434900"], ["updated_at", "2019-01-11 12:29:24.434900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 3.9ms)
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (13.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:29:24.490822"], ["updated_at", "2019-01-11 12:29:24.490822"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 3.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 17ms (ActiveRecord: 4.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (10.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:29:24.548672"], ["updated_at", "2019-01-11 12:29:24.548672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 0.9ms)
  [1m[35m (13.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:29:24 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:29:24.596631"], ["updated_at", "2019-01-11 12:29:24.596631"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.4ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:30:07.508914', '2019-01-11 12:30:07.508914', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:30:07.508914', '2019-01-11 12:30:07.508914', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:30:07.508914', '2019-01-11 12:30:07.508914', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:30:07.508914', '2019-01-11 12:30:07.508914', 283483334)[0m
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:30:07.809480"], ["updated_at", "2019-01-11 12:30:07.809480"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 36ms (ActiveRecord: 1.6ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:30:07.838868"], ["updated_at", "2019-01-11 12:30:07.838868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 11ms (ActiveRecord: 3.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (14.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:30:07.878929"], ["updated_at", "2019-01-11 12:30:07.878929"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:30:07.905432"], ["updated_at", "2019-01-11 12:30:07.905432"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:30:07 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (3.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:31:41.546394', '2019-01-11 12:31:41.546394', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-11 12:31:41.546394', '2019-01-11 12:31:41.546394', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:31:41.546394', '2019-01-11 12:31:41.546394', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-11 12:31:41.546394', '2019-01-11 12:31:41.546394', 283483334)[0m
  [1m[35m (21.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users/994283606" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/994283606" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (10.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-11 12:31:41.820895"], ["updated_at", "2019-01-11 12:31:41.820895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 1.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (15.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started PUT "/users/994283606" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-11 12:31:41.859597"], ["id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 10ms (ActiveRecord: 2.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (20.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (4.1ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-11 12:31:41.926323"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 10ms (ActiveRecord: 4.5ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (1.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 4ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (10.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/available" for 127.0.0.1 at 2019-01-11 07:31:41 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/994283606/products" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"994283606"}
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (5.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-11 12:31:42.014653"], ["updated_at", "2019-01-11 12:31:42.014653"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 1.6ms | ActiveRecord: 5.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (14.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:31:42.119007"], ["updated_at", "2019-01-11 12:31:42.119007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 59ms (ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (9.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:31:42.154514"], ["updated_at", "2019-01-11 12:31:42.154514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 1.8ms | ActiveRecord: 0.7ms)
  [1m[35m (12.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:31:42.231778"], ["updated_at", "2019-01-11 12:31:42.231778"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 6.5ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 18ms (Views: 3.5ms | ActiveRecord: 1.4ms)
  [1m[35m (18.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-11 12:31:42.288401"], ["updated_at", "2019-01-11 12:31:42.288401"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 15ms (ActiveRecord: 6.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (19.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Started GET "/welcome/index" for 127.0.0.1 at 2019-01-11 07:31:42 -0500
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb
  Rendered welcome/index.html.erb (10.9ms)
Completed 200 OK in 136ms (Views: 48.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (2.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 03:13:57.021102', '2019-01-14 03:13:57.021102', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 03:13:57.021102', '2019-01-14 03:13:57.021102', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 03:13:57.029124', '2019-01-14 03:13:57.029124', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 03:13:57.029124', '2019-01-14 03:13:57.029124', 283483334)[0m
  [1m[35m (21.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-13 22:13:58 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (1.4ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-14 03:13:58.876950"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 21ms (ActiveRecord: 1.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (20.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-13 22:13:58 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/available" for 127.0.0.1 at 2019-01-13 22:13:58 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products" for 127.0.0.1 at 2019-01-13 22:13:58 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/994283606/products" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"994283606"}
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (5.9ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-14 03:13:59.016771"], ["updated_at", "2019-01-14 03:13:59.016771"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 2.3ms | ActiveRecord: 6.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (20.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (3.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 10ms (ActiveRecord: 4.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (19.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 03:13:59.188294"], ["updated_at", "2019-01-14 03:13:59.188294"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 64ms (ActiveRecord: 5.7ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (10.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 03:13:59.219544"], ["updated_at", "2019-01-14 03:13:59.219544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 03:13:59.238529"], ["updated_at", "2019-01-14 03:13:59.238529"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 9ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[35m (9.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 03:13:59.268740"], ["updated_at", "2019-01-14 03:13:59.268740"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.0ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (9.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users/994283606" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/994283606" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (10.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-14 03:13:59.347941"], ["updated_at", "2019-01-14 03:13:59.347941"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 2.0ms | ActiveRecord: 3.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (17.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started PUT "/users/994283606" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"994283606"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (6.3ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-14 03:13:59.413360"], ["id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 17ms (ActiveRecord: 7.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (17.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Started GET "/welcome/index" for 127.0.0.1 at 2019-01-13 22:13:59 -0500
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb
  Rendered welcome/index.html.erb (1.4ms)
Completed 200 OK in 71ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.5ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:49:06.913801', '2019-01-14 08:49:06.913801', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:49:06.913801', '2019-01-14 08:49:06.913801', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:49:06.915796', '2019-01-14 08:49:06.915796', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:49:06.915796', '2019-01-14 08:49:06.915796', 283483334)[0m
  [1m[35m (14.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-14 08:49:07.140196"], ["updated_at", "2019-01-14 08:49:07.140196"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.3ms | ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (11.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/994283606" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (11.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started PUT "/users/994283606" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-14 08:49:07.193115"], ["id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users/994283606" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:07.275767"], ["updated_at", "2019-01-14 08:49:07.275767"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 37ms (ActiveRecord: 4.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.4ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 19ms (ActiveRecord: 4.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (11.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:07.335772"], ["updated_at", "2019-01-14 08:49:07.335772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ? [0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "inventory_count" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["inventory_count", 0], ["updated_at", "2019-01-14 08:49:07.359919"], ["id", 980190962]]
  [1m[36mPurchasedItem Create (2.6ms)[0m  [1m[32mINSERT INTO "purchased_items" ("user_id", "title", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["created_at", "2019-01-14 08:49:07.388805"], ["updated_at", "2019-01-14 08:49:07.388805"]]
  [1m[36mCartItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 53ms (ActiveRecord: 6.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (19.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:07.439748"], ["updated_at", "2019-01-14 08:49:07.439748"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 3.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (19.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:07.489586"], ["updated_at", "2019-01-14 08:49:07.489586"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 3.6ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 20ms (Views: 3.3ms | ActiveRecord: 1.9ms)
  [1m[35m (12.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:07.549352"], ["updated_at", "2019-01-14 08:49:07.549352"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 11ms (ActiveRecord: 3.2ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 15ms (Views: 2.2ms | ActiveRecord: 1.4ms)
  [1m[35m (13.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (1.8ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (16.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"994283606"}
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (2.6ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-14 08:49:07.650455"], ["updated_at", "2019-01-14 08:49:07.650455"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 2.0ms | ActiveRecord: 3.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (16.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (5.5ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-14 08:49:07.715931"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 14ms (ActiveRecord: 6.1ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (18.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/available" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Started GET "/welcome/index" for 127.0.0.1 at 2019-01-14 03:49:07 -0500
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb
  Rendered welcome/index.html.erb (1.6ms)
Completed 200 OK in 71ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:49:51.604020', '2019-01-14 08:49:51.604020', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:49:51.604020', '2019-01-14 08:49:51.604020', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:49:51.606264', '2019-01-14 08:49:51.606264', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:49:51.606264', '2019-01-14 08:49:51.606264', 283483334)[0m
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Started GET "/welcome/index" for 127.0.0.1 at 2019-01-14 03:49:51 -0500
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb
  Rendered welcome/index.html.erb (1.3ms)
Completed 200 OK in 40ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:49:51 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:49:51 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (1.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:49:51 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"994283606"}
Unpermitted parameter: :user_id
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-14 08:49:51.943114"], ["updated_at", "2019-01-14 08:49:51.943114"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:49:51 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (1.8ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-14 08:49:51.970084"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (11.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:49:51 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/available" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:52.080746"], ["updated_at", "2019-01-14 08:49:52.080746"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 52ms (ActiveRecord: 5.2ms)
Started GET "/users/283483334/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"283483334", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.2ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 283483334], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:52.090717"], ["updated_at", "2019-01-14 08:49:52.090717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/283483334/cart_items/980190964
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ? [0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "inventory_count" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["inventory_count", 0], ["updated_at", "2019-01-14 08:49:52.102685"], ["id", 980190962]]
  [1m[36mPurchasedItem Create (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("user_id", "title", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["created_at", "2019-01-14 08:49:52.110664"], ["updated_at", "2019-01-14 08:49:52.110664"]]
  [1m[36mCartItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 16ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:52.131643"], ["updated_at", "2019-01-14 08:49:52.131643"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 3.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (3.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 21ms (ActiveRecord: 5.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (19.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:52.208415"], ["updated_at", "2019-01-14 08:49:52.208415"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 3.0ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 1.4ms | ActiveRecord: 1.3ms)
  [1m[35m (11.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:52.258314"], ["updated_at", "2019-01-14 08:49:52.258314"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 11ms (Views: 2.2ms | ActiveRecord: 0.9ms)
  [1m[35m (17.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:49:52.317923"], ["updated_at", "2019-01-14 08:49:52.317923"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 13ms (ActiveRecord: 4.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (18.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users/994283606" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started PUT "/users/994283606" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (5.3ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-14 08:49:52.409666"], ["id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 13ms (ActiveRecord: 5.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (18.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/994283606" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (3.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 8ms (ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (16.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-14 03:49:52 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-14 08:49:52.492489"], ["updated_at", "2019-01-14 08:49:52.492489"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 1.7ms | ActiveRecord: 3.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (17.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:51:27.259441', '2019-01-14 08:51:27.259441', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:51:27.259441', '2019-01-14 08:51:27.259441', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:51:27.264566', '2019-01-14 08:51:27.264566', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:51:27.264566', '2019-01-14 08:51:27.264566', 283483334)[0m
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Started GET "/welcome/index" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb
  Rendered welcome/index.html.erb (1.5ms)
Completed 200 OK in 39ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (3.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 6ms (ActiveRecord: 4.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (7.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"994283606"}
Unpermitted parameter: :user_id
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-14 08:51:27.546903"], ["updated_at", "2019-01-14 08:51:27.546903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 1.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (9.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (1.0ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-14 08:51:27.565935"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/available" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started PUT "/users/994283606" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-14 08:51:27.616689"], ["id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (9.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/994283606" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (18.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users/994283606" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (5.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-14 08:51:27.710155"], ["updated_at", "2019-01-14 08:51:27.710155"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.8ms | ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (18.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:51:27.809870"], ["updated_at", "2019-01-14 08:51:27.809870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 47ms (ActiveRecord: 4.8ms)
Started GET "/users/283483334/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"283483334", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (0.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 283483334], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:51:27.818769"], ["updated_at", "2019-01-14 08:51:27.818769"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/283483334/cart_items/980190964
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ? [0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Update (0.1ms)[0m  [1m[33mUPDATE "products" SET "inventory_count" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["inventory_count", 0], ["updated_at", "2019-01-14 08:51:27.827781"], ["id", 980190962]]
  [1m[36mPurchasedItem Create (0.2ms)[0m  [1m[32mINSERT INTO "purchased_items" ("user_id", "title", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["created_at", "2019-01-14 08:51:27.834853"], ["updated_at", "2019-01-14 08:51:27.834853"]]
  [1m[36mCartItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 14ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (14.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:51:27.864122"], ["updated_at", "2019-01-14 08:51:27.864122"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 12ms (ActiveRecord: 4.0ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 19ms (Views: 3.4ms | ActiveRecord: 1.6ms)
  [1m[35m (18.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:51:27.934581"], ["updated_at", "2019-01-14 08:51:27.934581"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 15ms (ActiveRecord: 5.9ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-14 03:51:27 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 2.3ms | ActiveRecord: 1.5ms)
  [1m[35m (18.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:51:28 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:51:28.008380"], ["updated_at", "2019-01-14 08:51:28.008380"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 16ms (ActiveRecord: 6.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (17.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:51:28 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (3.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:51:28.063204"], ["updated_at", "2019-01-14 08:51:28.063204"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 14ms (ActiveRecord: 3.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-14 03:51:28 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.4ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 17ms (ActiveRecord: 4.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (12.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.9ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:55:30.384074', '2019-01-14 08:55:30.384074', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:55:30.384074', '2019-01-14 08:55:30.384074', 298486374)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:55:30.389144', '2019-01-14 08:55:30.389144', 994283606)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:55:30.389144', '2019-01-14 08:55:30.389144', 283483334)[0m
  [1m[35m (25.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-14 08:55:30.673308"], ["updated_at", "2019-01-14 08:55:30.673308"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 1.3ms | ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (11.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users/994283606" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/994283606" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (10.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started PUT "/users/994283606" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-14 08:55:30.747885"], ["id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 11ms (ActiveRecord: 3.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (18.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"994283606"}
Unpermitted parameter: :user_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (5.8ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-14 08:55:30.841940"], ["updated_at", "2019-01-14 08:55:30.841940"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 15ms (Views: 2.0ms | ActiveRecord: 6.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (17.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/available" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (5.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 12ms (ActiveRecord: 6.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (16.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:55:30 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (2.9ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-14 08:55:30.975619"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 11ms (ActiveRecord: 3.5ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (17.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.1ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:31.076348"], ["updated_at", "2019-01-14 08:55:31.076348"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 52ms (ActiveRecord: 5.4ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (14.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:31.126808"], ["updated_at", "2019-01-14 08:55:31.126808"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 11ms (ActiveRecord: 2.9ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 18ms (Views: 3.5ms | ActiveRecord: 1.6ms)
  [1m[35m (17.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:31.193635"], ["updated_at", "2019-01-14 08:55:31.193635"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 15ms (ActiveRecord: 6.5ms)
Started GET "/users/283483334/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"283483334", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 283483334], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:31.216595"], ["updated_at", "2019-01-14 08:55:31.216595"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/283483334/cart_items/980190964
Completed 302 Found in 14ms (ActiveRecord: 3.5ms)
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ? [0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "inventory_count" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["inventory_count", 0], ["updated_at", "2019-01-14 08:55:31.245483"], ["id", 980190962]]
  [1m[36mPurchasedItem Create (0.7ms)[0m  [1m[32mINSERT INTO "purchased_items" ("user_id", "title", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["created_at", "2019-01-14 08:55:31.270382"], ["updated_at", "2019-01-14 08:55:31.270382"]]
  [1m[36mCartItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 47ms (ActiveRecord: 4.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 283483334]]
  [1m[35m (17.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (4.5ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:31.314263"], ["updated_at", "2019-01-14 08:55:31.314263"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 11ms (ActiveRecord: 5.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (11.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.8ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:31.346547"], ["updated_at", "2019-01-14 08:55:31.346547"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (2.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 15ms (ActiveRecord: 3.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (20.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Started GET "/welcome/index" for 127.0.0.1 at 2019-01-14 03:55:31 -0500
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb
  Rendered welcome/index.html.erb (1.6ms)
Completed 200 OK in 46ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (4.1ms)[0m  [1m[31mDELETE FROM "cart_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "purchased_items"[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:55:47.037097', '2019-01-14 08:55:47.037097', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at", "id") VALUES ('MyString', 9.99, 1, '2019-01-14 08:55:47.037097', '2019-01-14 08:55:47.037097', 298486374)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:55:47.039092', '2019-01-14 08:55:47.039092', 994283606)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2019-01-14 08:55:47.039092', '2019-01-14 08:55:47.039092', 283483334)[0m
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started PUT "/users/994283606" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by UsersController#update as HTML
  Parameters: {"name"=>"updated", "id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Unpermitted parameter: :id
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (3.7ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "updated"], ["updated_at", "2019-01-14 08:55:47.285515"], ["id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 13ms (ActiveRecord: 3.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/994283606" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 994283606]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (9.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users/994283606" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_show_all_users
-----------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Test Name"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Name"], ["created_at", "2019-01-14 08:55:47.363433"], ["updated_at", "2019-01-14 08:55:47.363433"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 1.7ms | ActiveRecord: 2.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (21.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Started GET "/welcome/index" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb
  Rendered welcome/index.html.erb (1.4ms)
Completed 200 OK in 87ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started POST "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by ProductsController#create as HTML
  Parameters: {"title"=>"Test Product", "price"=>"10", "inventory_count"=>"5", "user_id"=>"994283606"}
Unpermitted parameter: :user_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Create (3.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "price", "inventory_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Test Product"], ["price", 10.0], ["inventory_count", 5], ["created_at", "2019-01-14 08:55:47.511207"], ["updated_at", "2019-01-14 08:55:47.511207"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.9ms | ActiveRecord: 3.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (9.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by ProductsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
Started DELETE "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by ProductsController#destroy as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Destroy (2.0ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 5ms (ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (14.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/users/994283606/products/980190962" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by ProductsController#update as HTML
  Parameters: {"title"=>"updated", "user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Unpermitted parameters: :user_id, :id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Update (2.2ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "updated"], ["updated_at", "2019-01-14 08:55:47.573078"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/products
Completed 302 Found in 8ms (ActiveRecord: 2.6ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (15.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
ProductsControllerTest: test_should_show_all_products
-----------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by ProductsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ProductsControllerTest: test_should_show_available_products
-----------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/available" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by ProductsController#available as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."inventory_count" != ?[0m  [["inventory_count", 0]]
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
CartItemsControllerTest: test_should_show_all_cart_items
--------------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (5.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:47.745655"], ["updated_at", "2019-01-14 08:55:47.745655"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 94ms (ActiveRecord: 7.9ms)
Started GET "/users/994283606/cart_items" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#index as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("cart_items"."price") FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCACHE CartItem Load (0.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
Completed 200 OK in 20ms (Views: 3.3ms | ActiveRecord: 1.7ms)
  [1m[35m (12.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_create_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:47.808051"], ["updated_at", "2019-01-14 08:55:47.808051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (12.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
CartItemsControllerTest: test_should_remove_cart_item
-----------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:47.841959"], ["updated_at", "2019-01-14 08:55:47.841959"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 11ms (ActiveRecord: 3.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963/removefromcart" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#removefromcart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Destroy (1.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items
Completed 302 Found in 18ms (ActiveRecord: 3.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items"[0m
  [1m[35m (12.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CartItemsControllerTest: test_should_show_cart_item
---------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:47.900802"], ["updated_at", "2019-01-14 08:55:47.900802"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" ORDER BY "cart_items"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/994283606/cart_items/980190963" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#show as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ?[0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 1.4ms | ActiveRecord: 0.8ms)
  [1m[35m (13.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CartItemsControllerTest: test_should_complete_cart
--------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/994283606/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"994283606", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (2.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:47.945783"], ["updated_at", "2019-01-14 08:55:47.945783"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/cart_items/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
Started GET "/users/283483334/products/980190962/addtocart" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#addtocart as HTML
  Parameters: {"user_id"=>"283483334", "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 283483334], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Create (1.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("user_id", "title", "price", "inventory_count", "p_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 283483334], ["title", "MyString"], ["price", 9.99], ["inventory_count", 1], ["p_id", 980190962], ["created_at", "2019-01-14 08:55:47.956690"], ["updated_at", "2019-01-14 08:55:47.956690"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/283483334/cart_items/980190964
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/users/994283606/cart_items/complete" for 127.0.0.1 at 2019-01-14 03:55:47 -0500
Processing by CartItemsController#complete as HTML
  Parameters: {"user_id"=>"994283606"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."id" = ? LIMIT ? [0m  [["user_id", 994283606], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 994283606], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."user_id" = ? AND "cart_items"."inventory_count" != ?[0m  [["user_id", 994283606], ["inventory_count", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ? [0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "inventory_count" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["inventory_count", 0], ["updated_at", "2019-01-14 08:55:47.975603"], ["id", 980190962]]
  [1m[36mPurchasedItem Create (0.4ms)[0m  [1m[32mINSERT INTO "purchased_items" ("user_id", "title", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 994283606], ["title", "MyString"], ["price", 9.99], ["created_at", "2019-01-14 08:55:47.990598"], ["updated_at", "2019-01-14 08:55:47.990598"]]
  [1m[36mCartItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/994283606/purchased_items
Completed 302 Found in 29ms (ActiveRecord: 3.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cart_items" WHERE "cart_items"."user_id" = ?[0m  [["user_id", 994283606]]
  [1m[35m (13.9ms)[0m  [1m[31mrollback transaction[0m
